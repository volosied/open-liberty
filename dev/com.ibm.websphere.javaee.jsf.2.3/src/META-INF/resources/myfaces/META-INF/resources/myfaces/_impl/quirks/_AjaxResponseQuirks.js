_MF_SINGLTN(_PFX_XHR+"_AjaxResponseQuirks",myfaces._impl.xhrCore._AjaxResponse,{constructor_:function(){this._callSuper("constructor_");myfaces._impl.xhrCore._AjaxResponse=this;},_replaceHead:function(F,C,M){var D=this._Lang,J=this._Dom,H=this._RT,G=this._RT.browser.isWebKit,K=(!G)?D.parseXML(M):null,E=null;if(!G&&D.isXMLParseError(K)){K=D.parseXML(M.replace(/<!\-\-[\s\n]*<!\-\-/g,"<!--").replace(/\/\/-->[\s\n]*\/\/-->/g,"//-->"));}if(G||D.isXMLParseError(K)){var B=new (this._RT.getGlobalConfig("updateParser",myfaces._impl._util._HtmlStripper))();var L=B.parse(M,"head");E=D.parseXML("<head>"+L+"</head>");if(D.isXMLParseError(E)){try{E=J.createElement("head");E.innerHTML=L;}catch(I){throw this._raiseError(new Error(),"Error head replacement failed reason:"+I.toString(),"_replaceHead");}}E=E.childNodes[0];}else{E=K.getElementsByTagName("head")[0];}var A=D.objToArray(document.head.childNodes);J.deleteItems(D.objToArray(A));J.appendToHead(E);return document.head;},_replaceBody:function(E,B,Q){var I=this._RT,M=this._Dom,D=this._Lang,K=document.getElementsByTagName("body")[0],P=document.createElement("div"),F=I.browser.isWebKit;P.id="myfaces_bodyplaceholder";M._removeChildNodes(K);K.innerHTML="";K.appendChild(P);var H,O=null,A;if(!F){O=(arguments.length>3)?arguments[3]:D.parseXML(Q);}if(!F&&D.isXMLParseError(O)){O=D.parseXML(Q.replace(/<!\-\-[\s\n]*<!\-\-/g,"<!--").replace(/\/\/-->[\s\n]*\/\/-->/g,"//-->"));}if(F||D.isXMLParseError(O)){A=new (I.getGlobalConfig("updateParser",myfaces._impl._util._HtmlStripper))();H=A.parse(Q,"body");}else{var J=O.getElementsByTagName("body")[0];var G=I.browser;if(!G.isIEMobile||G.isIEMobile>=7){for(var C=0;C<J.attributes.length;C++){var N=J.attributes[C].value;if(N){M.setAttribute(K,J.attributes[C].name,N);}}}}A=new (I.getGlobalConfig("updateParser",myfaces._impl._util._HtmlStripper))();H=A.parse(Q,"body");var L=this.replaceHtmlItem(E,B,P,H);if(L){this._pushOperationResult(B,L);}return L;},});